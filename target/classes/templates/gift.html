<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>선물 추천 시스템</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100">
<div class="container mx-auto px-4 py-8">
    <div class="max-w-2xl mx-auto">
        <div class="bg-white rounded-lg shadow p-6 mb-6">
            <h1 class="text-2xl font-bold mb-4">맞춤 선물 추천</h1>

            <form th:action="@{/gift}" method="POST" th:object="${giftForm}">
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700">대상 이름</label>
                        <input type="text" th:field="*{targetName}"
                               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700">나이</label>
                        <input type="number" th:field="*{age}"
                               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700">관계</label>
                        <input type="text" th:field="*{relationship}"
                               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"
                               placeholder="예: 동기, 선배, 후배">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700">신분</label>
                        <input type="text" th:field="*{status}"
                               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"
                               placeholder="예: 대학생, 직장인">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700">추천받을 선물 개수</label>
                        <input type="number" th:field="*{itemCount}" min="1" max="10"
                               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    </div>

                    <button type="submit"
                            class="w-full bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                        선물 추천 받기
                    </button>
                </div>
            </form>
        </div>

        <div th:if="${recommendation}" class="mt-6 bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-semibold mb-4">추천 결과</h2>
            <div id="recommendation-result" class="prose whitespace-pre-line"
                 th:utext="${recommendation}">
            </div>
        </div>

        <style>
            .prose a {
                color: #3b82f6;
                text-decoration: none;
                display: inline-block;
                padding: 4px 8px;
                margin: 4px 0;
                border-radius: 4px;
                background-color: #f3f4f6;
            }
            .prose a:hover {
                background-color: #e5e7eb;
                text-decoration: underline;
            }
            .prose a[href^="/"] {
                /* 상대 경로 링크는 비활성화 */
                pointer-events: none;
                color: #9ca3af;
            }
        </style>
    </div>
</div>
</body>
</html>